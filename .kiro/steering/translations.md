---
inclusion_mode: "always"
---

# Translations & Localization (PHP-only)

## Source of truth
- Use PHP translation files (`resources/lang/{locale}/*.php`) as the source of truth. JSON files generated by custom auto-translation commands are tooling artifacts (gitignored); always convert them back with `auto-translations:json-to-php {locale} --import` before shipping.
- Organize by domain: `app.php` (labels/actions/nav), `requests.php` (validation), `notifications.php`, `auth.php`, `pagination.php`, module-specific files if needed.

## Coding rules
- Never hardcode user-facing strings in PHP/Filament; always wrap with `__()`/`@lang`. Avoid adding Blade views for copyâ€”use Filament schemas/labels instead.
- In Filament v4.3+, set labels/placeholders/descriptions/headings via translation keys: `->label(__('app.labels.name'))`, `->helperText(__('app.helpers.name_format'))`, `->modalHeading(__('app.modals.edit_record'))`, etc.
- Keep keys stable and descriptive; avoid dynamic keys. Use placeholders (`:name`, `:count`) and pass replacements.

## Key naming
- `app.labels.*` for field labels; `app.actions.*` for buttons/bulk actions; `app.navigation.*` for menu/cluster names; `app.helpers.*` for helper text; `app.modals.*` for modal titles/descriptions.
- `requests.*` for validation messages; `notifications.*` for notification titles/bodies; `table.*` for table empty states/headings.
- Snake_case keys; group by feature to keep files maintainable.

## Adding/updating strings
- When introducing UI text in Filament resources/pages/widgets/actions, first add the key to the appropriate PHP lang file, then reference it in code.
- For enums, prefer `->getLabel()` returning `__()` values so tables/forms stay translated.
- If existing code has inline text, replace with translation keys during touch.

## Routes & URLs
- Translate public-facing slugs in `lang/{locale}/routes.php` and register routes with `LaravelLocalization::transRoute('routes.key')` to keep names stable while allowing localized paths.
- Wrap localized routes in the `LaravelLocalization` group (`prefix` + `localeSessionRedirect`, `localizationRedirect`, `localeViewPath`) so Accept-Language/session negotiation stays consistent.

## Verification checklist
- No inline strings in Filament resources/pages/widgets/actions/notifications.
- Modal headings/descriptions, empty states, table column labels, filter labels, bulk action labels all use translations.
- English remains base locale; keep structure mirrored when adding locales.

## Automated Checks
- Use `php artisan translations:check` to identify missing translations.
- This check is part of the CI pipeline (`composer test:translations`).
- You can also view the translation status in the Filament admin panel under **System > Translation Status**.
